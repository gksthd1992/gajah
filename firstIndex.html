<!DOCTYPE html>
<html lang="en">

<head>
  <style>
    #container {
      margin: 0px auto;
      width: 348px;
      height: 450px;
      border: 5px #333 solid;
    }
    #videoElement {
      margin:0px auto;
      width: 348px;
      height: 510px;
      background-color: white;
      border:3px solid black;
    }
    </style>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>GaJaH</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/grayscale.min.css" rel="stylesheet">
  
  
  
  
</head>


<body id="page-top">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger" href="#page-top">I'MAGE</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="nav-link js-scroll-trigger" href="#signup" >take a photo</a>
              </li> 
          
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#picture" >Picture</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#mixing"  >Mixing</a>
          </li>
          
        </ul>
      </div>
    </div>
  </nav>

  <!-- Header -->
  <header class="masthead">
    <div class="container d-flex h-100 align-items-center">
      <div class="mx-auto text-center">
        <h1 class="mx-auto my-0 text-uppercase">GaJaH</h1>
        <!--<h2>you choose your photo, select picture in GaJaH or your album,also.</h2>
        <h2></h2> You can mix as much as you want!</h2>
 -->       
      </div>
    </div>
  </header>

  
  <section id="signup" class="signup-section"  >
      <section class="contact-section bg-black">
          
<button id="take">Take a photo</button><br />
<video id="v"></video>
<canvas id="canvas" style="display:none;"></canvas>
<img src="http://placehold.it/300&text=Your%20image%20here%20..." id="photo" alt="photo">
<script>
    ;(function(){
        function userMedia(){
            return navigator.getUserMedia = navigator.getUserMedia ||
            navigator.webkitGetUserMedia ||
            navigator.mozGetUserMedia ||
            navigator.msGetUserMedia || null;

        }


        // Now we can use it
        if( userMedia() ){
            var videoPlaying = false;
            var constraints = {
                video: true,
                audio:false
            };
            var video = document.getElementById('v');

            var media = navigator.getUserMedia(constraints, function(stream){

                // URL Object is different in WebKit
                var url = window.URL || window.webkitURL;

                // create the url and set the source of the video element
                video.src = url ? url.createObjectURL(stream) : stream;

                // Start the video
                video.play();
                videoPlaying  = true;
            }, function(error){
                console.log("ERROR");
                console.log(error);
            });


            // Listen for user click on the "take a photo" button
            document.getElementById('take').addEventListener('click', function(){
                if (videoPlaying){
                    var canvas = document.getElementById('canvas');
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
                    canvas.getContext('2d').drawImage(video, 0, 0);
                    var data = canvas.toDataURL('image/webp');
                    document.getElementById('photo').setAttribute('src', data);
                }
            }, false);



        } else {
            console.log("KO");
        }
    })();
</script>
      </section>
    </section>
    
  <!-- Projects Section -->
  <section id="picture" class="projects-section bg-light">
    <div class="container">

      <!-- Featured Project Row -->
      <div class="row align-items-center no-gutters mb-4 mb-lg-5">
        <div class="col-xl-8 col-lg-7">
          
          <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js"></script>
          <script type="text/javascript">
          $(function(){
              $('#button').click(function(){ 
                  if(!$('#iframe').length) {
                          $('#iframeHolder').html('<iframe id="iframe" frameborder="0" src="./pic.html" width="1500" height="550"></iframe>');
                  }
              });   
          });
          </script>
           
          <h2>choose picture</h2>
          <img src="img/album.png" input type="button" id="button" onclick = "location.href = '#picture' "  />
          <div id="iframeHolder"></div>


        </div>
        <div class="col-xl-4 col-lg-5">
          <div class="featured-text text-center text-lg-left">
            
            
          </div>
        </div>
      </div>

      <!-- Project One Row -->
      <div class="row justify-content-center no-gutters mb-5 mb-lg-0">
      
        <div class="col-lg-6">
          <div class="bg-black text-center h-100 project">
          
          </div>
        </div>
      </div>
<!-- About Section -->
<section id="mixing" class="about-section text-center">
    <div class="row">
      <div class="col-md-4 mb-5"
      >
        <div class="card h-100">
            <div class="card-body">
                <h4 class="card-title">Your Photo</h4>
                <p class="card-text">If you want to your photo, put here.</p>
                
              </div>
              <input type="file" name="image" accept="image/*" capture>
          <img name="image" alt="">
          <canvas></canvas>
          <script>
            var input = document.querySelector('input[type=file]'); // see Example 4
        
            input.onchange = function () {
                var file = input.files[0];
        
        
                drawOnCanvas(file);   // see Example 6
                displayAsImage(file); // see Example 7
            };
        
            function drawOnCanvas(file) {
                var reader = new FileReader();
        
                reader.onload = function (e) {
                    var dataURL = e.target.result,
                            c = document.querySelector('canvas'), // see Example 4
                            ctx = c.getContext('2d'),
                            img = new Image();
        
                    img.onload = function() {
                        c.width = img.width;
                        c.height = img.height;
                        ctx.drawImage(img, 0, 0);
                    };
        
                    img.src = dataURL;
                };
        
                reader.readAsDataURL(file);
            }
        
            function displayAsImage(file) {
                var imgURL = URL.createObjectURL(file),
                        img = document.createElement('img');
        
                img.onload = function() {
                    URL.revokeObjectURL(imgURL);
                };
        
                img.src = imgURL;
                document.body.appendChild(img);
            }
        </script>
          
          <p></p>
          
          
         
          <div class="card-footer">
           
          </div>
        </div>
      </div>
      
      <div class="col-md-4 mb-5">
        <div class="card h-100">
            <div class="card-body">
                <h4 class="card-title">Picture</h4>
                <p class="card-text">Choose picture i your computer.</p>
                <input type="file" name="image" accept="image/*" onclick = "location.href = '#picture' " capture>  
               
              </div>
              
             
          <p></p>
          
          
          
          <div class="card-footer">
           
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-5">
        <div class="card h-100">
            <div class="card-body">
                <h4 class="card-title">Mixed</h4>
              </div>
          
          
          <div class="card-footer">
            <a href="#" class="btn btn-primary">Share!</a>
          </div>
        </div>
      </div>
    </div>
  </section>
      <!-- Project Two Row -->
      <div class="row justify-content-center no-gutters">
        
        <div class="col-lg-6 order-lg-first">
          <div class="bg-black text-center h-100 project">
            
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- Signup Section -->
 <!-- <section id="signup" class="signup-section">
    <div class="container">
      <div class="row">
        <div class="col-md-10 col-lg-8 mx-auto text-center">

          <i class="far fa-paper-plane fa-2x mb-2 text-white"></i>
          
          <form class="form-inline d-flex">
            <input type="email" class="form-control flex-fill mr-0 mr-sm-2 mb-3 mb-sm-0" id="inputEmail" placeholder="Enter email address...">
            <button type="submit" class="btn btn-primary mx-auto">Subscribe</button>
          </form>
         
        </div>
      </div>
    </div>
  </section>
-->
  <!-- Contact Section -->
  
  

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Plugin JavaScript -->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts for this template -->
  <script src="js/grayscale.min.js"></script>

</body>

</html>
